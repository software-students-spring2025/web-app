{% extends "layout.html" %}

{% block title %}TASK TRACKER{% endblock %}

{% block content %}
    <div class="centered-content" style="text-align: center; margin: 0 auto;">
        <h2>Task Tracker</h2>
        <p><strong>Total XP:</strong> {{ xp }}</p>
        <img src="https://preview.redd.it/drinkable-xp-bottle-change-old-xp-bottle-to-have-the-splash-v0-2zlsur7cfqna1.gif?width=320&auto=webp&s=60fde70e71944a9cc341143c50a2806ce695247f" alt="XP">
        <h2>Tasks</h2>
        <table>
            <tr>
            <th>Task Name</th>
            <th>Description</th>
            <th>Status</th>
            <th>XP</th>
            <th>Created</th>
            <th>Due</th>
            <th> Click to Delete</th>
            {% for task in tasks %}
            <tr>
            <td>{{ task.name }}</td>
            <td>{{ task.description }}</td>
            <td>{{ task.done_status }}</td>
            <td>{{ task.xp_value }}</td>
            <td>{{ task.created_date.strftime('%Y-%m-%d') }}</td>
            <td>{{ task.due_date.strftime('%Y-%m-%d') }}</td>
            <td>
                <form action="{{ url_for('delete_task', task_id=task._id) }}" method="post">
                    <button type="submit" onclick="return confirm('Are you sure you want to delete this task?');">
                        Delete 
                    </button>
                </form>
            </td>
            </tr>
            {% endfor %}
        </table>
    </div>
{% endblock %}