<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Search Events</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/search.css') }}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body>
    <div class="container">
      <main>
        <header>
          <a href="{{ url_for('show_home') }}" class="name">Eventify</a>
          <a href="{{  url_for('logout') }}" class="logout">Logout</a>
        </header>
  
        <h1 class="heading">Search Events</h1>

        <form method="GET">
            <div class="wrapper">
                <input type="text" name="searchterm" placeholder="Search by event name, description, location, category, or date" class="search-bar" value="{{ searchterm }}"/>
                <button type="submit" class="search-button">Search</button>
            </div>
        </form>

        {% if searchterm %}
        <div class="flex">
          <div class="event-container" id="events">
            {% for event in events %}
            <a href="{{ url_for('show_details', event_id=event['_id']) }}">
              <div class="event-card">
                <div class="event-strip {{ event['category'] | lower }}"></div>
                <div class="event-content">
                  <div class="event-title">{{ event["name"] }}</div>
                  <div class="event-info">📅 {{ event["date"] }}</div>
                  <div class="event-info">⏰ {{ event["time"] }}</div>
                  <div class="event-info">📍 {{ event["location"] }}</div>
                </div>
              </div>
            </a>
            {% endfor %}
          </div>
        </div>
        {% endif %}
  
      </main>
    </div>
  </body>
</html>