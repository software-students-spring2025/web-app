{% extends "base.html" %}

{% block content %}
<div class = "home-page">
    <h2>Home Page</h2>
    <div class = "home-welcome">
        <h3>Hi {{user}}, Here are all your orders! <a href="/logout">Logout</a></h3>
    </div>
    <div class = "home-add">
        <a href="/newOrder"><button type="button">Add New Order</button></a>
    </div>
    <div class = "home-table">
        <table>
            <tr>
                <th>Consumer Name</th>
                <th>Price</th>
                <th>Link to Detail</th>
            </tr>
            <!-- using index to make control total number easy -->
            {% for i in range(length) %}
                <tr>
                    <td>{{ orders[length-1-i].consumer }}</td>
                    <td>{{ orders[length-1-i].price }}</td>
                    <td><a href="/detail/{{orders[length-1-i]._id}}">Details</a></td>
                </tr>
            {% endfor %}
        </table>
        <form action="/home" method="get" class="home-search">
            <input type="text" name="search" placeholder="Search By Name">
            <button type="submit">Search</button>
        </form>
    </div>
{% endblock %}