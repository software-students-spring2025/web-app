{% extends "base.html" %}

{% block container %}
<html>
  <head>
    <link
      rel="stylesheet"
      href="/static/css/detail.css"
    />
  </head>
    <body>
        <div class="container">
            <div class="apt-image">
                <div class="placeholder">Picture</div>
            </div>
            <div class="apt-detail-container">
                <div class="apt-basic-container">
                    <div class="upper-container">
                        <h2 class="section-title">{{apt.building.name}} {{apt.apt_num}}</h2>
                        <div class="apt-price-basic-like-icon-container">
                            <div class="apt-price-basic-container">
                                <h1 class="apt-price">${{ apt.price }}/mo</h1>
                                {% if apt.bedroom == "Studio" %}
                                <p class="info-item">Studio {{apt.area}} sqft</p>
                                {% else %}
                                <p class="info-item">{{apt.bedroom}} Bd {{apt.bathroom}} Ba {{apt.area}} sqft</p>
                                {% endif %}
                            </div>
                            <div class="apt-like-icon-container">
                                <form action="{{ url_for('home') }}" method="post">
                                    <input type="hidden" name="apt_id" value="{{apt.id}}">

                                    <button type="submit">
                                        <img src="{{ url_for('static', filename='images/like-icon.webp') }}" alt="Like" class="like-icon">
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="lower-container">
                        <div class="apt-date-address-listed-email-container">
                            <div class="apt-date">
                                <p class="info-item">Available <br> {{ apt.date }}</p>
                            </div>
                            <div class="apt-address">
                                <p class="info-item" id="apt-address-text">{{ apt.street_address }}<br>{{apt.city_address}}</p>
                            </div>
                        </div>
                        <p class="info-item">Listed by: {{ apt.posted_admin }}</p>
                    </div>
                </div>

                
                <div class="section">
                    <h2 class="subtitle">About</h2>
                    <p class="about-item">
                        {{apt.about_info}}
                    </p>
                </div>




                <div class="section">
                    <h2 class="subtitle">Policies</h2>
                    <div class="section-content">
                        {% if apt.policy %}
                            {% if apt.policy.allows_pets %}
                                <div class="list-item-container">
                                    <p class="info-item">Allows Pets</p>
                                </div>
                            {% endif %}
                            {% if apt.policy.allows_smoking %}
                                <div class="list-item-container">
                                    <p class="info-item">Allows Smoking</p>
                                </div>
                            {% endif %}
                            {% if apt.policy.has_parking %}
                                <div class="list-item-container">
                                    <p class="info-item">Has Parking</p>
                                </div>
                            {% endif %}
                        {% else %}
                            <p>No policies available.</p>
                        {% endif %}
                    </div>
                </div>


                <div class="section">
                    <h2 class="subtitle">Apartment Amenities</h2>
                    <div class="section-content">
                        {% if apt.amenities %}
                            {% if apt.amenities.doorman %}
                                <div class="list-item-container">
                                    <p class="info-item">Doorman</p>
                                </div>
                            {% endif %}
                            {% if apt.amenities.bikeroom %}
                                <div class="list-item-container">
                                    <p class="info-item">Bike Room</p>
                                </div>
                            {% endif %}
                            {% if apt.amenities.elevator %}
                                <div class="list-item-container">
                                    <p class="info-item">Elevator</p>
                                </div>
                            {% endif %}
                            {% if apt.amenities.laundry %}
                                <div class="list-item-container">
                                    <p class="info-item">Laundry</p>
                                </div>
                            {% endif %}
                            {% if apt.amenities.gym %}
                                <div class="list-item-container">
                                    <p class="info-item">Gym</p>
                                </div>
                            {% endif %}
                            {% if apt.amenities.packageroom %}
                                <div class="list-item-container">
                                    <p class="info-item">Package Room</p>
                                </div>
                            {% endif %}
                            {% if apt.amenities.parking %}
                                <div class="list-item-container">
                                    <p class="info-item">Parking</p>
                                </div>
                            {% endif %}
                            {% if apt.amenities.concierge %}
                                <div class="list-item-container">
                                    <p class="info-item">Concierge</p>
                                </div>
                            {% endif %}
                            {% if apt.amenities.library %}
                                <div class="list-item-container">
                                    <p class="info-item">Library</p>
                                </div>
                            {% endif %}
                        {% else %}
                            <p>No amenities available.</p>
                        {% endif %}
                    </div>
                </div>
                

                <div class="section">
                    <h2 class="subtitle">Home Features</h2>
                    <div class="section-content">
                        {% if apt.home_feature %}
                            {% if apt.home_feature.centralair %}
                                <div class="list-item-container">
                                    <p class="info-item">Central Air</p>
                                </div>
                            {% endif %}
                            {% if apt.home_feature.dishwasher %}
                                <div class="list-item-container">
                                    <p class="info-item">Dishwasher</p>
                                </div>
                            {% endif %}
                            {% if apt.home_feature.hardwoodfloor %}
                                <div class="list-item-container">
                                    <p class="info-item">Hardwood Floor</p>
                                </div>
                            {% endif %}
                            {% if apt.home_feature.view %}
                                <div class="list-item-container">
                                    <p class="info-item">Scenic View</p>
                                </div>
                            {% endif %}
                            {% if apt.home_feature.privateoutdoor %}
                                <div class="list-item-container">
                                    <p class="info-item">Private Outdoor Space</p>
                                </div>
                            {% endif %}
                            {% if apt.home_feature.washerdryer %}
                                <div class="list-item-container">
                                    <p class="info-item">Washer & Dryer</p>
                                </div>
                            {% endif %}
                            {% if apt.home_feature.fridge %}
                                <div class="list-item-container">
                                    <p class="info-item">Refrigerator</p>
                                </div>
                            {% endif %}
                            {% if apt.home_feature.oven %}
                                <div class="list-item-container">
                                    <p class="info-item">Oven</p>
                                </div>
                            {% endif %}
                        {% else %}
                            <p>No home features available.</p>
                        {% endif %}
                    </div>
                </div>
                

                <div class="section">
                <h2 class="subtitle">{{building.name}}</h2>
                <div class="building-basic-info">
                    <!-- need to revise -->
                    <p class="about-item">Address: {{ building.address }}</p>
                    <p class="about-item">Number of Units: {{ building.num_unit }}</p>
                    <p class="about-item">About: {{ building.about_info }}</p>
                </div>
            </div>
<!--             
            <div class="debug-info">
                <p>apt: {{ apt }}</p>
                <p>Amenities: {{ apt.amenities }}</p>
                <p>Features: {{ apt.features }}</p>
                <p>Policies: {{ apt.policies }}</p>
            </div> -->
        </div>
    </body>
</html>
{% endblock %} 